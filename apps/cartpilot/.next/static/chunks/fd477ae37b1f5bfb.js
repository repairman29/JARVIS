(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53795,e=>{"use strict";var t=e.i(43476),s=e.i(71645),c=e.i(18566),n=e.i(7471);function a(){let e=(0,c.useRouter)(),a=(0,c.useSearchParams)(),[l,i]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let t=a.get("next")||"/dashboard",s=a.get("code");if(s){window.location.href=`/api/auth/exchange-code?code=${encodeURIComponent(s)}&next=${encodeURIComponent(t)}`;return}let c=window.location.hash?.slice(1);if(!c)return void e.replace("/login?error=auth_callback");let l=new URLSearchParams(c),r=l.get("access_token"),o=l.get("refresh_token");r&&o?n.supabase?n.supabase.auth.setSession({access_token:r,refresh_token:o}).then(()=>{window.location.replace(t)}).catch(t=>{console.error("Auth callback setSession failed:",t),e.replace("/login?error=auth_callback")}):i("Olive is not configured."):e.replace("/login?error=auth_callback")},[e,a]),l)?(0,t.jsx)("main",{className:"min-h-screen bg-[#fdfcf9] flex items-center justify-center px-6",children:(0,t.jsx)("p",{className:"text-[#9a3412]",children:l})}):(0,t.jsx)("main",{className:"min-h-screen bg-[#fdfcf9] flex items-center justify-center px-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-[#9caf88] rounded-full olive-pulse flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-xl",children:"ðŸ«’"})}),(0,t.jsx)("p",{className:"text-[#536538] text-sm",children:"Signing you in..."})]})})}function l(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("main",{className:"min-h-screen bg-[#fdfcf9] flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-12 h-12 bg-[#9caf88] rounded-full olive-pulse flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-xl",children:"ðŸ«’"})})}),children:(0,t.jsx)(a,{})})}e.s(["default",()=>l])}]);