{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jeffadkins/CLAWDBOT/apps/cartpilot/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || ''\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || ''\n\n// Create a dummy client during build if env vars aren't set\nexport const supabase = supabaseUrl && supabaseAnonKey \n  ? createClient(supabaseUrl, supabaseAnonKey)\n  : null as any\n\n// Helper to check if supabase is configured\nexport const isSupabaseConfigured = () => Boolean(supabaseUrl && supabaseAnonKey)\n"],"names":[],"mappings":";;;;;;AAEoB;AAFpB;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,wPAA6C;AAG9D,MAAM,WAAW,uCACpB,IAAA,iMAAY,EAAC,aAAa,mBAC1B;AAGG,MAAM,uBAAuB,IAAM,QAAQ,eAAe"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/jeffadkins/CLAWDBOT/apps/cartpilot/src/app/login/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, Suspense } from 'react'\nimport { supabase, isSupabaseConfigured } from '@/lib/supabase'\nimport { useRouter, useSearchParams } from 'next/navigation'\nimport Link from 'next/link'\n\nfunction LoginContent() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [isSignUp, setIsSignUp] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [message, setMessage] = useState('')\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const thenConnect = searchParams.get('then') === 'connect'\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError('')\n    setMessage('')\n\n    try {\n      if (!isSupabaseConfigured() || !supabase) {\n        throw new Error('Olive is not configured yet. Please check the Supabase keys.')\n      }\n      if (isSignUp) {\n        const { error } = await supabase.auth.signUp({\n          email,\n          password,\n        })\n        if (error) throw error\n        setMessage('Check your email for the confirmation link!')\n      } else {\n        const { error } = await supabase.auth.signInWithPassword({\n          email,\n          password,\n        })\n        if (error) throw error\n        router.push(thenConnect ? '/dashboard?connectKroger=1' : '/dashboard')\n      }\n    } catch (err: any) {\n      setError(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <main className=\"min-h-screen bg-[#fdfcf9] flex items-center justify-center px-6\">\n      <div className=\"max-w-sm w-full\">\n        <Link href=\"/\" className=\"flex items-center justify-center gap-2 mb-10\">\n          <div className=\"w-10 h-10 bg-[#9caf88] rounded-full flex items-center justify-center olive-pulse\">\n            <span className=\"text-white text-lg\">ðŸ«’</span>\n          </div>\n          <span className=\"text-2xl font-medium text-[#3a4529]\">Olive</span>\n        </Link>\n\n        <div className=\"bg-white p-8 rounded-3xl shadow-sm border border-[#eef2e6]\">\n          {!isSupabaseConfigured() && (\n            <div className=\"bg-[#fff7ed] text-[#9a3412] p-3 rounded-xl text-sm mb-4\">\n              Olive isn&apos;t configured yet. Add Supabase keys to continue.\n            </div>\n          )}\n          <h2 className=\"text-xl font-medium text-[#2d3a1f] text-center mb-2\">\n            {isSignUp ? 'Join the kitchen' : 'Welcome back'}\n          </h2>\n          <p className=\"text-[#87a05a] text-center text-sm mb-6\">\n            {isSignUp \n              ? \"Let's get your pantry organized\" \n              : \"Olive's been keeping things tidy\"}\n          </p>\n          {thenConnect && (\n            <div className=\"bg-[#eef2e6] text-[#536538] text-xs rounded-xl p-3 mb-4\">\n              Sign in, then we&apos;ll take you straight to connect Kroger.\n            </div>\n          )}\n          {!thenConnect && (\n            <div className=\"bg-[#f8faf5] text-[#536538] text-xs rounded-xl p-3 mb-4\">\n              We&apos;ll connect your Kroger account after you sign in.\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm text-[#536538] mb-1.5\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full px-4 py-3 bg-[#f8faf5] border border-[#dce5cc] rounded-xl focus:ring-2 focus:ring-[#9caf88] focus:border-transparent outline-none transition\"\n                placeholder=\"you@example.com\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm text-[#536538] mb-1.5\">\n                Password\n              </label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full px-4 py-3 bg-[#f8faf5] border border-[#dce5cc] rounded-xl focus:ring-2 focus:ring-[#9caf88] focus:border-transparent outline-none transition\"\n                placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n                required\n                minLength={6}\n              />\n            </div>\n\n            {error && (\n              <div className=\"bg-red-50 text-red-600 p-3 rounded-xl text-sm\">\n                {error}\n              </div>\n            )}\n\n            {message && (\n              <div className=\"bg-[#eef2e6] text-[#536538] p-3 rounded-xl text-sm\">\n                {message}\n              </div>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-[#9caf88] text-white py-3.5 rounded-xl hover:bg-[#87a05a] transition disabled:opacity-50 font-medium\"\n            >\n              {loading ? 'One moment...' : isSignUp ? 'Create Account' : 'Sign In'}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={() => setIsSignUp(!isSignUp)}\n              className=\"text-[#87a05a] hover:text-[#6b8245] text-sm\"\n            >\n              {isSignUp\n                ? 'Already have an account? Sign in'\n                : \"New here? Create an account\"}\n            </button>\n          </div>\n\n          <div className=\"mt-6 pt-6 border-t border-[#eef2e6] text-center\">\n            <Link\n              href=\"/login?then=connect\"\n              className=\"inline-flex items-center gap-2 text-[#536538] hover:text-[#2d3a1f] text-sm\"\n            >\n              <span>ðŸ›’</span>\n              <span>Continue with Kroger</span>\n              <span className=\"text-[#87a05a] text-xs\">(sign in first)</span>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </main>\n  )\n}\n\nexport default function Login() {\n  return (\n    <Suspense fallback={\n      <main className=\"min-h-screen bg-[#fdfcf9] flex items-center justify-center\">\n        <div className=\"w-12 h-12 bg-[#9caf88] rounded-full olive-pulse flex items-center justify-center\">\n          <span className=\"text-white text-xl\">ðŸ«’</span>\n        </div>\n      </main>\n    }>\n      <LoginContent />\n    </Suspense>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}